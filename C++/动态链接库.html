<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>动态链接库 | 我的笔记</title>
    <meta name="description" content="A VitePress Site">
    <meta name="generator" content="VitePress v1.2.3">
    <link rel="preload stylesheet" href="/Blog/assets/style.DWgdj8Vb.css" as="style">
    
    <script type="module" src="/Blog/assets/app.e5bMTx81.js"></script>
    <link rel="preload" href="/Blog/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/Blog/assets/chunks/framework.Bt9cqVig.js">
    <link rel="modulepreload" href="/Blog/assets/chunks/theme.CISnWtK_.js">
    <link rel="modulepreload" href="/Blog/assets/C___动态链接库.md.IaVDku_F.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar has-sidebar top" data-v-ae24b3ad data-v-ccf7ddec><div class="wrapper" data-v-ccf7ddec><div class="container" data-v-ccf7ddec><div class="title" data-v-ccf7ddec><div class="VPNavBarTitle has-sidebar" data-v-ccf7ddec data-v-ab179fa1><a class="title" href="/Blog/" data-v-ab179fa1><!--[--><!--]--><!----><span data-v-ab179fa1>我的笔记</span><!--[--><!--]--></a></div></div><div class="content" data-v-ccf7ddec><div class="content-body" data-v-ccf7ddec><!--[--><!--]--><div class="VPNavBarSearch search" data-v-ccf7ddec><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-ccf7ddec data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/Blog/C++/OpenSSL.html" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>C++</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/Blog/-.html" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>Python</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/Blog/-.html" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>Go</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-b6c34ac9><span class="text" data-v-b6c34ac9><!----><span data-v-b6c34ac9>QT</span><span class="vpi-chevron-down text-icon" data-v-b6c34ac9></span></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/Blog/QT/QT%E5%9F%BA%E7%A1%80/qt%E7%BD%91%E7%BB%9C.html" data-v-43f1e123><!--[-->QT基础<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/Blog/QT/QT%E4%BB%A3%E7%A0%81/%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85.html" data-v-43f1e123><!--[-->QT代码<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/Blog/Git/git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>Git</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-b6c34ac9><span class="text" data-v-b6c34ac9><!----><span data-v-b6c34ac9>链接</span><span class="vpi-chevron-down text-icon" data-v-b6c34ac9></span></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link vp-external-link-icon" href="https://vitepress.dev/zh" target="_blank" rel="noreferrer" data-v-43f1e123><!--[-->vitepress官网<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link vp-external-link-icon" href="https://chat.openai.com/" target="_blank" rel="noreferrer" data-v-43f1e123><!--[-->OpenAi官网<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link vp-external-link-icon" href="https://leetcode.cn/problemset/" target="_blank" rel="noreferrer" data-v-43f1e123><!--[-->力扣官网<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link vp-external-link-icon" href="https://llfc.club/" target="_blank" rel="noreferrer" data-v-43f1e123><!--[-->恋恋风晨zack博客<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link vp-external-link-icon" href="https://godbolt.org/" target="_blank" rel="noreferrer" data-v-43f1e123><!--[-->Godbolt<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-ccf7ddec data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-e6aabb21 data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-ccf7ddec data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Cookie330/Blog" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-ccf7ddec data-v-d0bd9dde data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b6c34ac9><span class="vpi-more-horizontal icon" data-v-b6c34ac9></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-d0bd9dde><div class="item appearance" data-v-d0bd9dde><p class="label" data-v-d0bd9dde>Appearance</p><div class="appearance-action" data-v-d0bd9dde><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-d0bd9dde data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div></div></div><div class="group" data-v-d0bd9dde><div class="item social-links" data-v-d0bd9dde><div class="VPSocialLinks social-links-list" data-v-d0bd9dde data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Cookie330/Blog" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-ccf7ddec data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-ccf7ddec><div class="divider-line" data-v-ccf7ddec></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-17a5e62e><button data-v-17a5e62e>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-575e6a36><div class="curtain" data-v-575e6a36></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-575e6a36><span class="visually-hidden" id="sidebar-aria-label" data-v-575e6a36> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>基础Demo</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b8d55f3b><span class="vpi-chevron-right caret-icon" data-v-b8d55f3b></span></div></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Blog/C++/%E5%9F%BA%E7%A1%80demo/%E6%A8%A1%E6%9D%BF%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0%E5%88%97%E8%A1%A8.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>模板可变参数列表</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Blog/C++/%E5%9F%BA%E7%A1%80demo/%E5%AE%9E%E7%8E%B0share_ptr%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>实现share_ptr智能指针</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Blog/C++/%E5%9F%BA%E7%A1%80demo/%E6%8E%A8%E7%AE%B1%E5%AD%90.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>推箱子</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Blog/C++/%E5%9F%BA%E7%A1%80demo/%E4%B8%87%E8%83%BD%E5%BC%95%E7%94%A8.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>万能引用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Blog/C++/%E5%9F%BA%E7%A1%80demo/%E7%BA%BF%E7%A8%8B%E6%B1%A0.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>线程池</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Blog/C++/%E5%9F%BA%E7%A1%80demo/%E8%87%AA%E5%88%B6C++%E8%BF%9E%E6%8E%A5redis.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>自制C++连接redis</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Blog/C++/%E5%9F%BA%E7%A1%80demo/DAG.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>DAG</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Blog/C++/%E5%9F%BA%E7%A1%80demo/CmakeList.txt.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>CmakeList.txt</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Blog/C++/%E5%9F%BA%E7%A1%80demo/%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>四次挥手</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>boost::asio</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b8d55f3b><span class="vpi-chevron-right caret-icon" data-v-b8d55f3b></span></div></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Blog/C++/asio/AsyncTcpServer.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>  AsyncTcpServer</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Blog/C++/asio/http.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>  http</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Blog/C++/asio/websocket.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>  websocket</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 has-active" data-v-575e6a36 data-v-b8d55f3b><!----><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Blog/C++/OpenSSL.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>OpenSSL</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Blog/C++/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AE%97%E6%B3%95.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>数据结构算法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Blog/C++/%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5%E5%BA%93.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>动态链接库</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Blog/C++/protobuf%E5%BA%8F%E5%88%97%E5%8C%96.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>protobuf序列化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Blog/C++/grpc.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>grpc</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/Blog/C++/p2p%E4%BB%A3%E7%A0%81%E5%8F%8A%E5%8E%9F%E7%90%86.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>p2p代码及原理</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>页面导航</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _Blog_C++_%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5%E5%BA%93" data-v-39a288b8><div><h1 id="动态链接库" tabindex="-1">动态链接库 <a class="header-anchor" href="#动态链接库" aria-label="Permalink to &quot;动态链接库&quot;">​</a></h1><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>本文介绍动态链接库的概念、作用和使用方法。分别详细举例在QT、visual stdio、g++中导出/导入动态链接库的方法。</p></div><h2 id="lib是什么" tabindex="-1">lib是什么 <a class="header-anchor" href="#lib是什么" aria-label="Permalink to &quot;lib是什么&quot;">​</a></h2><p>你有一台台式机 有一天你发现配置不够了要换显卡 你得把电脑都拆了 拆下旧显卡 换上新显卡 再重新组装。</p><p>你有一个项目，里面有一个lib， 有一天出问题了 排查发现是这个lib里面的代码有问题， 你得换新的lib 然后重新编译整个项目 才能重新运行。</p><h2 id="dll是什么" tabindex="-1">dll是什么 <a class="header-anchor" href="#dll是什么" aria-label="Permalink to &quot;dll是什么&quot;">​</a></h2><p>你有一台台式机，它留了个外接显卡接口，你有一天想玩3A， 发现显卡带不动了，你关机，换个新的显卡，再开机，打开3A发现能玩了。</p><p>你有一个项目，它启动时读取目录下的某个dll，然后正常运行。有一天需要升级这个dll，把项目进程关了，换上新的dll，再重新打开项目运行即可。</p><h1 id="测试代码" tabindex="-1">测试代码 <a class="header-anchor" href="#测试代码" aria-label="Permalink to &quot;测试代码&quot;">​</a></h1><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-FEJoj" id="tab-mQ2BDYG" checked><label for="tab-mQ2BDYG">lib.h</label><input type="radio" name="group-FEJoj" id="tab-zBeee8A"><label for="tab-zBeee8A">lib.cpp</label><input type="radio" name="group-FEJoj" id="tab-hzM39Os"><label for="tab-hzM39Os">main.cpp</label></div><div class="blocks"><div class="language-cpp vp-adaptive-theme active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#ifndef</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> EXAMPLE_H</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> EXAMPLE_H</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> myFunction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#endif</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-cpp vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;lib.h&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> myFunction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::cout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Hello from myFunction!&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::endl;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-cpp vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&lt;iostream&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;lib.h&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    myFunction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    cout</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></div></div><h1 id="g" tabindex="-1">g++ <a class="header-anchor" href="#g" aria-label="Permalink to &quot;g++&quot;">​</a></h1><h2 id="直接整体编译" tabindex="-1">直接整体编译 <a class="header-anchor" href="#直接整体编译" aria-label="Permalink to &quot;直接整体编译&quot;">​</a></h2><p>.cpp文件在一块编译</p><p>生成可执行文件</p><p>编译 ：g++ -o m main.cpp lib.cpp</p><p>运行 ：m</p><h2 id="dll" tabindex="-1">dll <a class="header-anchor" href="#dll" aria-label="Permalink to &quot;dll&quot;">​</a></h2><p>编译成dll : g++ -shared lib.cpp -o lib.dll</p><p>链接生成可执行文件： g++ -L. -llib main.cpp -o m</p><p>运行 m.exe</p><p>修改lib.cpp中的函数</p><div class="language-cpp vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> myFunction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::cout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;修改过后 &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::endl;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>重新编译dll : g++ -shared lib.cpp -o lib.dll</p><p>运行m.exe 输出 &quot;修改过后 &quot;</p><h2 id="lib" tabindex="-1">lib <a class="header-anchor" href="#lib" aria-label="Permalink to &quot;lib&quot;">​</a></h2><p>编译成lib: g++ -c lib.cpp -o lib.o //-c表示不生成可执行文件 ar rcs liblib.lib lib.o</p><p>此时目录下生成了一个liblib.lib文件</p><p>编译链接静态库 生成可执行文件: g++ -o m main.cpp -L. -lliblib</p><p>-L后面的.表示当前目录</p><p>-l 后面跟具体的库名 去掉后缀.lib</p><p>运行 m.exe</p><p><em>如果你没有显式地使用这些导出关键字，仍然可能能够创建工作的动态链接库。这是因为编译器和链接器有一些默认规则。</em></p><p>在C++中，导出关键字通常是指在Windows平台上使用的 <code>__declspec(dllexport)</code> 和 <code>__declspec(dllimport)</code>。</p><h1 id="visual-stdio-msvc" tabindex="-1">visual stdio(msvc) <a class="header-anchor" href="#visual-stdio-msvc" aria-label="Permalink to &quot;visual stdio(msvc)&quot;">​</a></h1><h2 id="直接整体编译-1" tabindex="-1">直接整体编译 <a class="header-anchor" href="#直接整体编译-1" aria-label="Permalink to &quot;直接整体编译&quot;">​</a></h2><p><img src="/Blog/assets/image-20240130092352504.C2oHhRQ6.png" alt="image-20240130092352504"></p><p>没问题</p><h2 id="lib-1" tabindex="-1">lib <a class="header-anchor" href="#lib-1" aria-label="Permalink to &quot;lib&quot;">​</a></h2><p><img src="/Blog/assets/image-20240130092645917.DE-eQ3F8.png" alt="image-20240130092645917"></p><p>生成得到静态库</p><p><img src="/Blog/assets/image-20240130092927729.pnh6Rkbb.png" alt="image-20240130092927729"></p><p>加入main文件</p><p>#pragma comment导入静态库 也可以在属性里配置</p><p><img src="/Blog/assets/image-20240130093010334.DVuUV7Ll.png" alt="image-20240130093010334"></p><p>把我们编译出来的静态库移到main.cpp目录下</p><p><img src="/Blog/assets/image-20240130093052145.Bl8cfzMA.png" alt="image-20240130093052145"></p><p>删掉项目中的lib.cpp文件 可以运行</p><p><img src="/Blog/assets/image-20240130093231182.CE1T9yRN.png" alt="image-20240130093231182"></p><p>总结 使用静态库lib 静态链接生成exe文件 我们只需要给使用者提供.h和.lib文件 不需要提供.cpp文件 这样隐藏了代码的实现细节 但是相对于dll 链接出来的exe文件很大 并且如果某一.cpp改代码 需要重新编译该x.cpp文件变成x.lib 然后替换项目中旧的x.lib 重新整体编译项目 生成可执行文件 所以我们下面换成dll 这样方便</p><h2 id="dll-1" tabindex="-1">dll <a class="header-anchor" href="#dll-1" aria-label="Permalink to &quot;dll&quot;">​</a></h2><p>设置配置类型</p><p><img src="/Blog/assets/image-20240130093708027.Cp26gpLf.png" alt="image-20240130093708027"></p><p>标识要导出的函数</p><p><img src="/Blog/assets/image-20240131093022827.5Bsdtv1Q.png" alt="image-20240131093022827"></p><p><img src="/Blog/assets/image-20240131093031677.DU_mQOmo.png" alt="image-20240131093031677"></p><p><img src="/Blog/assets/image-20240131093105630.FeNfbEDF.png" alt="image-20240131093105630"></p><p>生成项目 在Debug目录里生成dll文件</p><p><img src="/Blog/assets/image-20240130094658386.Cw5ofg9n.png" alt="image-20240130094658386"></p><h1 id="qt" tabindex="-1">QT <a class="header-anchor" href="#qt" aria-label="Permalink to &quot;QT&quot;">​</a></h1><p>创建个新项目 添加dlla.h dlla.cpp文件</p><p>打开.pro文件</p><p><img src="/Blog/assets/image-20240131104221979.oUajlFY7.png" alt="image-20240131104221979"></p><p><img src="/Blog/assets/image-20240131104208892.DIIpMACU.png" alt="image-20240131104208892"></p><p>dlla.h</p><div class="language-cpp vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#ifndef</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DLLA_H</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DLLA_H</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> EXPROT</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#ifdef</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> EXPROT</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">     #define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DLL_EXPROT</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> __declspec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dllexport)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#else</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">     #define</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DLL_EXPROT</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> __declspec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dllimport)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#endif</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//注意 如果使用Q_DECL_EXPORT宏  需要include &lt;QObject&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//#ifdef EXPROT</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//     #define DLL_EXPROT Q_DECL_EXPORT</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//#else</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//     #define DLL_EXPROT Q_DECL_EXPORT</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//#endif</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//导出函数</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DLL_EXPROT </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">test01</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DLL_EXPROT </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">test02</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DLL_EXPROT </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">test03</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//想要直接从dll里获取类信息 进而构造一个实例 很困难</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DLL_EXPROT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DllA  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//如果使用静态库 一定要导出这个类 不然就“无法解析外部符号”</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    DllA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    DllA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 我们用一个工厂函数 来读取dll构造类实例   不同构造函数例子</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extern</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;C&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DLL_EXPROT DllA</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Instance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">extern</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;C&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DLL_EXPROT DllA</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Instance2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#endif</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // DLLA_H</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><p>dlla.cpp</p><div class="language-cpp vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;dlla.h&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DllA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DllA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DllA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DllA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> test01</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> test02</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> test03</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DllA</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Instance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DllA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DllA</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Instance2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DllA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><p>构建以后 可以在导出目录看到被导出的.lib和.dll</p><p><img src="/Blog/assets/image-20240131104321645.UCq3EKzr.png" alt="image-20240131104321645"></p><h2 id="使用lib" tabindex="-1">使用lib <a class="header-anchor" href="#使用lib" aria-label="Permalink to &quot;使用lib&quot;">​</a></h2><p>use_dll_lib.pro</p><div class="language-cmake vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cmake</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">QT -= gui</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CONFIG += c++11 console</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CONFIG -= app_bundle</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">INCLUDEPATH += E:/Learning/QT/code/dll_lib</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#LIBS += -lE:/Learning/QT/code/use_dll_lib/dll_lib</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DEFINES += QT_DEPRECATED_WARNINGS</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SOURCES</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> += \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        main.cpp</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">qnx: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">target</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = /tmp/$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">${TARGET}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/bin</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">unix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:!android: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">target</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = /opt/$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">${TARGET}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/bin</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">!isEmpty(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">target</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">): INSTALLS += </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">target</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>main.cpp</p><div class="language-c++ vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c++</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;QCoreApplication&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;dlla.h&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#pragma</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> comment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lib</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;E:/Learning/QT/code/use_dll_lib/dll_lib.lib&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> argc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">char</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">argv</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    QCoreApplication </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(argc, argv);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    DllA dlla;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">exec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="使用dll" tabindex="-1">使用dll <a class="header-anchor" href="#使用dll" aria-label="Permalink to &quot;使用dll&quot;">​</a></h2><p>main.cpp</p><div class="language-c++ vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c++</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;QCoreApplication&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;dlla.h&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;QLibrary&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> argc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">char</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">argv</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    QCoreApplication </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(argc, argv);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //加载dll</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    QLibrary</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dll </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> QLibrary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;E:/Learning/QT/code/use_dll_lib/dll_lib.dll&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    DllA</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dlla;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //dll存在 并且加载成功</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dll </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dll-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">load</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()){</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        //定义函数指针</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        typedef</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DllA</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (*MyPointer)(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        MyPointer instance2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (MyPointer)dll-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Instance2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(instance2){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            dlla </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> instance2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    delete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dll;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">exec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>输出</p><p><img src="/Blog/assets/image-20240131113313958.BOzjJUbH.png" alt="image-20240131113313958"></p><p>dumpbin工具的使用</p><p>如果查看a.dll库中包含哪些函数，可以使用:dumpbin /exports a.dll &gt;1.txt</p><p>如果查看b.exe中加载了哪些动态库，可以使用：dumpbin /imports b.exe &gt;2.txt</p><p>如果查看c.lib中包含哪些函数，可以使用:dumpbin /all /rawdata:none c.lib &gt;3.txt</p><p>如果查看d.obj中包含哪些函数，可以使用：dumpbin /all /rawdata:none d.obj &gt;4.txt</p><h1 id="用dumpbin查看dll文件" tabindex="-1">用dumpbin查看dll文件 <a class="header-anchor" href="#用dumpbin查看dll文件" aria-label="Permalink to &quot;用dumpbin查看dll文件&quot;">​</a></h1><p>新建一个项目, 新建一个 main.cpp文件 导入相关.h文件</p><p>打开dumpbin查看被MSVC修饰过的函数名</p><p>dumpbin可以在visual stdio目录下找到</p><p>例如我的C:\Program Files\Microsoft Visual Studio\2022\Community\VC\Tools\MSVC\14.29.30133\bin\HostX64\x64</p><p>打开cmd</p><p>dumpbin.exe /exports 你的dll路径.dll</p><p><img src="/Blog/assets/image-20240131094022427.BDVi8nG2.png" alt="image-20240131094022427"></p><p>回车 可以看到刚刚导出后 被msvc修饰的函数名 和类名</p><p><img src="/Blog/assets/image-20240131094051605.D931jFRk.png" alt="image-20240131094051605"></p><h1 id="c-程序加载导出的dll" tabindex="-1">C++程序加载导出的dll <a class="header-anchor" href="#c-程序加载导出的dll" aria-label="Permalink to &quot;C++程序加载导出的dll&quot;">​</a></h1><div class="language-cpp vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;iostream&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;Windows.h&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          //使用函数和某些特殊变量</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;lib2.h&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 包含你的DLL中类的头文件</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;functional&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> char*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dllname </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;C:/Users/Administrator/Desktop/dll/ConsoleApplication1/x64/Debug/ddq.dll&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 加载.dll</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    HMODULE hDLL </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> LoadLibrary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dllname); </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (hDLL </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> NULL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        typedef</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (*FUN)();</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //定义一个函数指针，确定调用函数的形参</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        FUN fp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FUN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GetProcAddress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(hDLL, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;?myFunction@@YAXXZ&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //填入被修饰过的函数名</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (fp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> NULL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            fp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        typedef</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> lib2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(*Class)();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Class cla </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GetProcAddress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(hDLL, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Instance&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //继续做，不要问</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (cla)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            lib2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> plugin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> cla</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//相当于Instance()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            plugin-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::cout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;asd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        FreeLibrary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(hDLL);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    else</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        cout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Can not find2: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dllname;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><p>补充说明 extern &quot;C&quot; 可以让被导出的函数 函数名不被编译器修饰</p><h1 id="动态库实战" tabindex="-1">动态库实战 <a class="header-anchor" href="#动态库实战" aria-label="Permalink to &quot;动态库实战&quot;">​</a></h1><div class="tip custom-block"><p class="custom-block-title">visual stdio 与 QT</p><p>不安装vs的qt插件，使用visual stdio 调用QT的API来写QT程序</p></div><p>创建一个vs项目 创一个main.cpp 写上这串代码</p><div class="language-cpp vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;iostream&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;QtCore/qdebug.h&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;QtWidgets/qapplication.h&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;QtWidgets/qwidget.h&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> argc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">char*</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> argv</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    QApplication </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(argc, argv);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    QWidget aa;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    aa.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">show</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    qDebug</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;adsa&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::cout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Hello World!</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    a.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">exec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>右键熟悉 去c++中的附加包含目录里配置.h文件的路径</p><p><img src="/Blog/assets/image-20240201152030198.fSdjfx3W.png" alt="image-20240201152030198"></p><p>找到你QT安装目录下 msvc套件里的include 目的是让vs能找到.h文件</p><p><img src="data:image/png;base64,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" alt="image-20240201152111953"></p><p>接下来我们静态链接.lib文件 找到lib目录</p><p><img src="/Blog/assets/image-20240201152152065.FhgC3VpU.png" alt="image-20240201152152065"></p><p>在该目录打开cmd</p><p>输入dir /s /b *.lib 找到该目录下所有的.lib文件</p><p><img src="/Blog/assets/image-20240201152321297.BHMyiE5q.png" alt="image-20240201152321297"></p><p><img src="/Blog/assets/image-20240201152347732.D3Xu8xKP.png" alt="image-20240201152347732"></p><p>把这串lib的路径 配置到附加依赖项</p><p><img src="/Blog/assets/image-20240201152428794.X_KOdM1i.png" alt="image-20240201152428794"></p><p>生成成功</p><p><img src="/Blog/assets/image-20240201152504595.DpRdqMam.png" alt="image-20240201152504595"></p><p>运行 发现找不到dll文件</p><p><img src="/Blog/assets/image-20240201152520157.BF6buaFL.png" alt="image-20240201152520157"></p><p>原因是</p><p><img src="/Blog/assets/image-20240201152540082.BR-3d5RM.png" alt="image-20240201152540082"></p><p>所以我们到msvc的bin目录下找到Qt5Core.dll文件 复制到你生成的可执行文件exe目录下</p><p>或者你也可以把这个bin目录配到环境变量里（更方便）</p><p><img src="/Blog/assets/image-20240201152642794.BEx8E-Aq.png" alt="image-20240201152642794"></p><p>还有一步 就是把这个文件夹 也拷贝到你的exe所在目录下</p><p><img src="/Blog/assets/image-20240201152934356.S3UtF52p.png" alt="image-20240201152934356"></p><p>里边也是dll 或者你也可以配环境变量 随你</p><p>当前目录</p><p><img src="/Blog/assets/image-20240201153011914.BTZknKeV.png" alt="image-20240201153011914"></p><p>反正缺什么你就去qt安装目录里拷什么 或者配环境变量 就这么简单</p><p><img src="/Blog/assets/image-20240201153124554.BtcM2wsQ.png" alt="image-20240201153124554"></p><p>运行结果</p><p><img src="/Blog/assets/image-20240201153142165.BYiWntJ2.png" alt="image-20240201153142165"></p><p>通过这篇文章 你应该对dll lib 和如何导入第三方库比较熟悉了</p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-d4a0bba5><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-d4a0bba5><span class="visually-hidden" id="doc-footer-aria-label" data-v-d4a0bba5>Pager</span><div class="pager" data-v-d4a0bba5><a class="VPLink link pager-link prev" href="/Blog/C++/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AE%97%E6%B3%95.html" data-v-d4a0bba5><!--[--><span class="desc" data-v-d4a0bba5>Previous page</span><span class="title" data-v-d4a0bba5>数据结构算法</span><!--]--></a></div><div class="pager" data-v-d4a0bba5><a class="VPLink link pager-link next" href="/Blog/C++/protobuf%E5%BA%8F%E5%88%97%E5%8C%96.html" data-v-d4a0bba5><!--[--><span class="desc" data-v-d4a0bba5>Next page</span><span class="title" data-v-d4a0bba5>protobuf序列化</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>学 习 记 录</p><p class="copyright" data-v-e315a0ad>Copyright © 2024 by Cookie330</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"c___grpc.md\":\"BBdZYxEl\",\"c___基础demo_模板可变参数列表.md\":\"CIM4VlVM\",\"qt_qt代码_发布订阅.md\":\"C2wM9wYH\",\"c___数据结构算法.md\":\"F-Mmkyj7\",\"qt_qt代码_日志界面.md\":\"CjSq1iOw\",\"c___基础demo_四次挥手.md\":\"Bl1mIjBr\",\"git_git常用命令.md\":\"DZevOojr\",\"c___p2p代码及原理.md\":\"B3-5VjPf\",\"qt_qt代码_excel处理.md\":\"Df25Lj_2\",\"c___基础demo_cmakelist.txt.md\":\"DmhNukF0\",\"git_index.md\":\"B7_ahRrS\",\"c___基础demo_线程池.md\":\"CNdZQkul\",\"c___asio_http.md\":\"vJIQ0I9E\",\"c___基础demo_推箱子.md\":\"yfvGg8-x\",\"c___protobuf序列化.md\":\"KBjEvGLq\",\"c___基础demo_万能引用.md\":\"p_WRVkPh\",\"index.md\":\"B5GVGxxu\",\"c___基础demo_实现share_ptr智能指针.md\":\"C82CFNkH\",\"c___asio_asynctcpserver.md\":\"VW0LZuSG\",\"qt_qt基础_qt窗口.md\":\"CvYAOpJs\",\"c___动态链接库.md\":\"IaVDku_F\",\"c___基础demo_dag.md\":\"DGiDQZtE\",\"c___asio_websocket.md\":\"Cf37GfAE\",\"c___openssl.md\":\"5cF8uIgW\",\"c___基础demo_自制c__连接redis.md\":\"CnCKqeup\",\"qt_qt基础_qt机制.md\":\"BXNGMugi\",\"qt_qt代码_日志类.md\":\"8__vKrjT\",\"qt_qt代码_sqlite增删改查.md\":\"8iny-tp7\",\"qt_qt基础_qss笔记.md\":\"CBRNJ61R\",\"qt_qt基础_qt多线程.md\":\"C41QqKC5\",\"qt_qt基础_qt网络.md\":\"CmrK3xzE\",\"qt_qt代码_自制wireshark.md\":\"lanIX94h\",\"qt_qt基础_qt类.md\":\"C2kKg4f5\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"我的笔记\",\"description\":\"A VitePress Site\",\"base\":\"/Blog/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"search\":{\"provider\":\"local\"},\"footer\":{\"message\":\"学 习 记 录\",\"copyright\":\"Copyright © 2024 by Cookie330\"},\"nav\":[{\"text\":\"C++\",\"link\":\"/C++/OpenSSL.md\"},{\"text\":\"Python\",\"link\":\"-\"},{\"text\":\"Go\",\"link\":\"-\"},{\"text\":\"QT\",\"items\":[{\"text\":\"QT基础\",\"link\":\"/QT/QT基础/qt网络.md\"},{\"text\":\"QT代码\",\"link\":\"/QT/QT代码/发布订阅.md\"}]},{\"text\":\"Git\",\"link\":\"/Git/git常用命令.md\"},{\"text\":\"链接\",\"items\":[{\"text\":\"vitepress官网\",\"link\":\"https://vitepress.dev/zh\"},{\"text\":\"OpenAi官网\",\"link\":\"https://chat.openai.com/\"},{\"text\":\"力扣官网\",\"link\":\"https://leetcode.cn/problemset/\"},{\"text\":\"恋恋风晨zack博客\",\"link\":\"https://llfc.club/\"},{\"text\":\"Godbolt\",\"link\":\"https://godbolt.org/\"}]}],\"outline\":{\"level\":[1,6],\"label\":\"页面导航\"},\"sidebar\":{\"/C++/\":{\"text\":\"c++\",\"items\":[{\"text\":\"基础Demo\",\"collapsed\":true,\"items\":[{\"text\":\"模板可变参数列表\",\"link\":\"/C++/基础demo/模板可变参数列表.md\"},{\"text\":\"实现share_ptr智能指针\",\"link\":\"/C++/基础demo/实现share_ptr智能指针.md\"},{\"text\":\"推箱子\",\"link\":\"/C++/基础demo/推箱子.md\"},{\"text\":\"万能引用\",\"link\":\"/C++/基础demo/万能引用.md\"},{\"text\":\"线程池\",\"link\":\"/C++/基础demo/线程池.md\"},{\"text\":\"自制C++连接redis\",\"link\":\"/C++/基础demo/自制C++连接redis.md\"},{\"text\":\"DAG\",\"link\":\"/C++/基础demo/DAG.md\"},{\"text\":\"CmakeList.txt\",\"link\":\"/C++/基础demo/CmakeList.txt.md\"},{\"text\":\"四次挥手\",\"link\":\"/C++/基础demo/四次挥手.md\"}]},{\"text\":\"boost::asio\",\"collapsed\":true,\"items\":[{\"text\":\"  AsyncTcpServer\",\"link\":\"/C++/asio/AsyncTcpServer.md\"},{\"text\":\"  http\",\"link\":\"/C++/asio/http.md\"},{\"text\":\"  websocket\",\"link\":\"/C++/asio/websocket.md\"}]},{\"text\":\"OpenSSL\",\"link\":\"/C++/OpenSSL.md\"},{\"text\":\"数据结构算法\",\"link\":\"/C++/数据结构算法.md\"},{\"text\":\"动态链接库\",\"link\":\"/C++/动态链接库.md\"},{\"text\":\"protobuf序列化\",\"link\":\"/C++/protobuf序列化.md\"},{\"text\":\"grpc\",\"link\":\"/C++/grpc.md\"},{\"text\":\"p2p代码及原理\",\"link\":\"/C++/p2p代码及原理.md\"}]},\"/Python/\":{\"text\":\"Python\"},\"/Go/\":{\"text\":\"Go\"},\"/QT/QT基础/\":{\"text\":\"qt基础\",\"items\":[{\"text\":\"QT网络\",\"link\":\"/QT/QT基础/qt网络.md\"},{\"text\":\"QSS笔记\",\"link\":\"/QT/QT基础/QSS笔记.md\"},{\"text\":\"QT窗口\",\"link\":\"/QT/QT基础/qt窗口.md\"},{\"text\":\"QT多线程\",\"link\":\"/QT/QT基础/qt多线程.md\"},{\"text\":\"QT机制\",\"link\":\"/QT/QT基础/qt机制.md\"},{\"text\":\"QT类\",\"link\":\"/QT/QT基础/qt类.md\"}]},\"/QT/QT代码/\":{\"text\":\"qt代码\",\"items\":[{\"text\":\"发布订阅\",\"link\":\"/QT/QT代码/发布订阅.md\"},{\"text\":\"日志类\",\"link\":\"/QT/QT代码/日志类.md\"},{\"text\":\"日志界面\",\"link\":\"/QT/QT代码/日志界面.md\"},{\"text\":\"系统资源统计\",\"link\":\"/QT/QT代码/index.md\"},{\"text\":\"EXCEL处理\",\"link\":\"/QT/QT代码/EXCEL处理.md\"},{\"text\":\"自制wireshark\",\"link\":\"/QT/QT代码/自制wireshark.md\"},{\"text\":\"sqlite增删改查\",\"link\":\"/QT/QT代码/sqlite增删改查.md\"}]},\"/Git/\":{\"text\":\"git\",\"items\":[{\"text\":\"git常用命令\",\"link\":\"/Git/git常用命令.md\"}]}},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/Cookie330/Blog\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>